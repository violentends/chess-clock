(this.webpackJsonpchess_clock=this.webpackJsonpchess_clock||[]).push([[0],{12:function(t,e,n){t.exports=n(19)},17:function(t,e,n){},18:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),i=n(8),s=n.n(i),o=(n(17),n(6)),r=n(10),l=n(1),u=n(4),m=n(5),h=n(11),d=n(9),p=(n(18),{locked:!1,started:!1,activePlayer:-1,players:[{name:"Player 1",time:15e3},{name:"Player 2",time:15e3}]}),f=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;return Object(u.a)(this,n),(t=e.call(this)).state=Object(l.a)(Object(l.a)({},p),{},{players:Object(r.a)(p.players)}),t}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.interval=setInterval((function(){if(t.state.started){var e=Date.now()-t.state.currentTime,n=t.state.started,a=t.state.activePlayer,c=t.state.players.map((function(c,i){var s=Object(l.a)({},c);return i===t.state.activePlayer&&(s.time-=e,s.time<=0&&(s.time=0,n=!1,a=-1)),s}));t.setState(Object(l.a)(Object(l.a)({},t.state),{},{activePlayer:a,started:n,players:c,currentTime:Date.now()}))}}),70)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var t=this;return c.a.createElement("div",{className:"layout"},this.state.players.map((function(e,n){return c.a.createElement(y,{key:n,active:n===t.state.activePlayer,locked:t.state.locked,onSetTime:function(e){t.setState(Object(l.a)(Object(l.a)({},t.state),{},{players:t.state.players.map((function(t,a){return a===n?Object(l.a)(Object(l.a)({},t),{},{time:e}):t}))}))},onTakeTurn:function(){var e={};t.state.started||(e.started=!0),e.currentTime=Date.now(),e.activePlayer=n,t.setState(Object(l.a)(Object(l.a)({},t.state),e))},onNameChange:function(e){t.setState(Object(l.a)(Object(l.a)({},t.state),{},{players:t.state.players.map((function(t,a){return a===n?Object(l.a)(Object(l.a)({},t),{},{name:e}):t}))}))},name:e.name,time:e.time})})),c.a.createElement("button",{className:"stopButton",onClick:function(){return t.setState(Object(l.a)(Object(l.a)({},t.state),{},{started:!1,activePlayer:-1}))}},"stop"),c.a.createElement("button",{className:"resetButton",onClick:function(){return t.setState(Object(l.a)(Object(l.a)({},t.state),{},{started:!1,activePlayer:-1,players:t.state.players.map((function(t){return t.time=15e3,t}))}))}},"reset"),c.a.createElement("button",{className:"lockButton",onClick:function(){return t.setState(Object(l.a)(Object(l.a)({},t.state),{},{locked:!t.state.locked}))}},this.state.locked?"unlock":"lock"))}}]),n}(c.a.Component);function v(t){var e=Math.floor(t/1e3),n=Math.floor(e/60),a=t-1e3*e;e-=60*n;var c=n.toString().length<2?"0".concat(n):n,i=e.toString().length<2?"0".concat(e):e,s=a.toString().length<2?"0".concat(a):a.toString().slice(0,2);return{minutes:n,seconds:e,milliseconds:a,string:"".concat(c,":").concat(i,":").concat(s),totalMs:t}}var b=function(){function t(e){Object(u.a)(this,t);var n=v(e);this._minutes=n.minutes,this._seconds=n.seconds,this._milliseconds=n.milliseconds,this._count=n.totalMs,this._string=n.string}return Object(m.a)(t,[{key:"toString",value:function(){return this._string}},{key:"minutes",get:function(){return this._minutes},set:function(t){var e=t-this.minutes;return this._count+=6e4*e,this._minutes=t,this}},{key:"seconds",get:function(){return this._seconds}},{key:"milliseconds",get:function(){return this._milliseconds}},{key:"count",get:function(){return this._count},set:function(t){var e=v(t);return this._minutes=e.minutes,this._seconds=e.seconds,this._milliseconds=e.milliseconds,this._count=e.totalMs,this._string=e.string,this}},{key:"second",set:function(t){var e=t-this.seconds;return this._count+=60*e,this._seconds=t,this}},{key:"millisecond",set:function(t){var e=t-this.milliseconds;return this._count+=e,this._milliseconds=t,this}}]),t}();function y(t){var e=Object(a.useState)(!1),n=Object(o.a)(e,2),i=n[0],s=n[1];return c.a.createElement("div",{onClick:function(){i||t.onTakeTurn()},className:"player ".concat(t.active?"active-player":"inactive-player")},c.a.createElement("div",{className:"playerName"},c.a.createElement("span",{onClick:function(e){if(!t.locked){e.stopPropagation();var n=window.prompt("enter name");n=n&&n.match(/\w+/)?n:t.name,t.onNameChange(n)}}},t.name)),c.a.createElement("div",{onClick:function(e){t.locked||e.stopPropagation()},className:"playerTime"},i?c.a.createElement(k,{time:new b(t.time),onSetTime:function(e){s(!1),t.onSetTime(e)}}):c.a.createElement("span",null,v(t.time).string),c.a.createElement("button",{onClick:function(e){t.locked||(e.stopPropagation(),s(!i))}},i?"cancel":"set time")))}function k(t){var e=Object(a.useState)(t.time),n=Object(o.a)(e,2),i=n[0],s=n[1];return c.a.createElement("form",{onClick:function(t){return t.stopPropagation()},onSubmit:function(e){e.preventDefault(),t.onSetTime(i.count)}},c.a.createElement("input",{onChange:function(t){i.minutes=t.target.value,s(i)},placeholder:i.minutes,type:"number"}),":",c.a.createElement("input",{onChange:function(t){i.minutes=t.target.value,s(i)},placeholder:i.seconds,type:"number"}),":",c.a.createElement("input",{onChange:function(t){i.minutes=t.target.value,s(i)},placeholder:i.milliseconds,type:"number"}),c.a.createElement("button",null,"submit"))}var g=f;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.c8e419a6.chunk.js.map